
<router-outlet></router-outlet>

<div class="container text-center">
  <div class="row">
    <div class="col">
      <h1 class="pt-5">
        Formulaire
      </h1>
    </div>
  </div>
</div>
<div class="container-fluid">
  <div class="row">
    <div class="col">
      <div class="container">
        <div class="row">
          <div class="col">
            <div class="card mt-5">
              <h5 class="card-header text-white bg-info text-center">S' enregitrer </h5>
              <div class="card-body">
                <form (ngSubmit)="saveData(registerForm)" #registerForm="ngForm" >
                  <div class="row">

                    <div class=" col-md-6 mb-3">
                      <label id="code" for="code"> Code </label>
                      <input id="code" name="obj.code" type="text" class="form-control" placeholder="code" [(ngModel)]="obj.code"
                        name="code" required maxlength="10" #codeVar="ngModel"
                        [ngClass]="{'is-invalid' :codeVar.touched  &&! codeVar.valid}" />
                      <div class="invalid-feedback">
                        <span *ngIf="codeVar.errors ?.['required']">
                          Entrer votre code
                        </span>
                        <span *ngIf=" codeVar.errors ?.['maxlength'] ">
                          Entrer au plus 2 carracteres
                        </span>
                      </div>
                    </div>


                    <div class=" col-md-6 mb-3">
                      <label id="name" for="name">Libelle</label>
                      <input id="name" name="name" class="form-control" placeholder="Nom" [(ngModel)]="obj.libelle"
                        name="name" required minlength="3" appForbiddenName="name" pattern="" #nameVar="ngModel"
                        [ngClass]="{'is-invalid' :nameVar.touched  &&! nameVar.valid}" />
                      <div class="invalid-feedback">
                        <span *ngIf="nameVar.errors ?.['required']">
                          Entrer votre nom
                        </span>
                        <span *ngIf=" nameVar.errors ?.['minlength'] ">
                          Entrer au plus 3 carracteres
                        </span>
                      </div>
                    </div>

                    <div class=" col-md-6 mb-3">
                      <label id="name" for="email"> le Prix d achat</label>
                      <input id="prixAchat" name="prixAchat" type="prixAchat" class="form-control" placeholder="5000F"
                        [(ngModel)]="obj.prixAchat" name="prixAchat" required
                        prixAchat #prixAchatVar="ngModel" [ngClass]="{'is-invalid' :prixAchatVar.touched  &&! prixAchatVar.valid}" />
                      <div class="invalid-feedback">
                        <span *ngIf="prixAchatVar.errors ?.['required']">
                          Entrer le prix d achat
                        </span>
                        <span *ngIf="prixAchatVar.errors ?.['prixAchat']">
                          le prix d achat n'est pas valid
                        </span>
                      </div>
                    </div>

                    <div class=" col-md-6 mb-3">
                      <label id="name" for="prixVente"> Entrer le prix de vente</label>
                      <input id="prixVente" name="prixVente" type="prixVente" class="form-control"
                        placeholder="5000" [(ngModel)]="obj.prixVente" name="prixVente" required
                        prixVente #localisationVar="ngModel"
                        [ngClass]="{'is-invalid' :localisationVar.touched  &&! localisationVar.valid}" />
                      <div class="invalid-feedback">
                        <span *ngIf="localisationVar.errors ?.['required']">
                          Entrer le prix de vente
                        </span>
                        <span *ngIf=" localisationVar.errors ?.['prixVente']">
                          la prix de Vente n'est pas valid
                        </span>
                      </div>
                    </div>

                   <div class=" col-md-6 mb-3">
                      <label id="name" for="boutiqueId">Id de la boutique</label>
                      <input id="boutiqueId" name="listStud.boutiqueId" type="text" class="form-control" placeholder="boutiqueId"
                        [(ngModel)]="obj.boutiqueId" name="boutiqueId" required maxlength="2" #boutiqueIdVar="ngModel"
                        [ngClass]="{'is-invalid' :boutiqueIdVar.touched  &&! boutiqueIdVar.valid}" />
                      <div class="invalid-feedback">
                        <span *ngIf="boutiqueIdVar.errors ?.['required']">
                          Entrer votre boutiqueId
                        </span>
                        <span *ngIf=" boutiqueIdVar.errors ?.['maxlength'] ">
                          Entrer au plus 2 carracteres
                        </span>
                      </div>
                    </div>


                    <div class=" col-md-6 mb-3">
                      <label id="name" for="email">Categorie Id</label>
                      <input id="prixAchat" name="categorieArticleId" type="text" class="form-control" placeholder="01"
                        [(ngModel)]="obj.categorieArticleId" name="prixAchat" required prixAchat #categorieArticleIdVar="ngModel"
                        [ngClass]="{'is-invalid' :categorieArticleIdVar.touched  &&! categorieArticleIdVar.valid}" />
                      <div class="invalid-feedback">
                        <span *ngIf="categorieArticleIdVar.errors ?.['required']">
                          Entrer l indentifiant du libelle
                        </span>
                        <span *ngIf=" categorieArticleIdVar.errors ?.['prixAchat']">
                          l indentifiant du libelle n est valid
                        </span>
                      </div>
                    </div>


                  </div>
                  <hr>
                  <div class="containe d-flex justify-content-end">
                    <div class="row">
                      <div class="col">
                        <div class="position">
                          <span class="p-4"><button type="reset" class="btn btn-info">Effacer</button> </span>
                          <span class=""> <button type="submit" class="btn btn-outline-info" [disabled]="!registerForm.valid"
                              (click)="Add()">Sauvegarger</button> </span>
                        </div>
                      </div>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="container text-center">
    <div class="row">
      <div class="col p-5">
        <h5> Les informations</h5>
      </div>
    </div>
  </div>


<div class="container">
    <div class="row">
        <div class="col">
          <table class="table table-striped table-responsive">
            <thead>
              <tr>
                <th>Code</th>
                <th>Libelle</th>
                <th>Prix Achat</th>
                <th>Prix de vente </th>
                <th>BoutiqueId </th>
                <th>CategorieArticleId</th>
                <th> Actions</th>
              </tr>
            </thead>
            <tbody *ngFor="let item of tabArt; let indice = index">
              <tr>
                <td> {{item.code}} </td>
                <td> {{item.libelle}} </td>
                <td> {{item.prixAchat}} </td>
                <td> {{item.prixVente}} </td>
                <td> {{item.boutiqueId}} </td>
                <td>{{item.categorieArticleId}} </td>
                <td>
                  <span><button type="button" class="btn btn-warning" (click)="Upd(item)"> Modifier</button> </span>
                  <span> <button type="button" class="btn btn-danger" (click)="Del(item.id)">Supprimer</button> </span>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
    </div>
</div>
