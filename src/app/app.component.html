
<router-outlet></router-outlet>
<div class="container-fluid">
  <div class="row">
    <div class="col">
      <div class="container">
        <div class="row">
          <div class="col">
            <div class="card mt-5">
              <h5 class="card-header text-white bg-info text-center">Enregitrer article </h5>
              <div class="card-body">
                <form (ngSubmit)="saveData(registerForm)" #registerForm="ngForm" >
                  <div class="row">

                    <div class=" col-md-6 mb-3">
                      <label id="code" for="code"> Code </label>
                      <input id="code" name="obj.code" type="text" class="form-control" placeholder="M52-478" autocomplete="off" [(ngModel)]="obj.code"
                        name="code" required maxlength="7" minlength="4" #codeVar="ngModel"
                        [ngClass]="{'is-invalid' :codeVar.touched  &&! codeVar.valid}" />
                      <div class="invalid-feedback">
                        <span *ngIf="codeVar.errors ?.['required']">
                          Entrer votre code
                        </span>
                        <span *ngIf=" codeVar.errors ?.['maxlength']">
                          Entrer au plus 2 carracteres
                        </span>
                        <span *ngIf=" codeVar.errors ?.['minlength']">
                          Entrer au plus 3 carracteres
                        </span>
                      </div>
                    </div>


                    <div class=" col-md-6 mb-3">
                      <label id="name" for="name">Libelle</label>
                      <input id="name" name="name" class="form-control"  type="text" placeholder="Telephone" autocomplete="off" [(ngModel)]="obj.libelle"
                        name="name" required minlength="3" appForbiddenName="name" #nameVar="ngModel"
                        [ngClass]="{'is-invalid' :nameVar.touched  &&! nameVar.valid}" />
                      <div class="invalid-feedback">
                        <span *ngIf="nameVar.errors ?.['required']">
                          Entrer votre nom
                        </span>
                        <span *ngIf=" nameVar.errors ?.['minlength'] ">
                          Entrer plus 3 carracteres
                        </span>

                      </div>
                    </div>

                    <div class=" col-md-6 mb-3">
                      <label id="prixAchat" for="prixAchat"> le Prix d achat</label>
                      <input id="prixAchat" name="prixAchat" type="number" class="form-control" autocomplete="off" placeholder="ex: prix d achat"
                        [(ngModel)]="obj.prixAchat" name="prixAchat" required pattern="[0-9]*"
                        prixAchat #prixAchatVar="ngModel" [ngClass]="{'is-invalid' :prixAchatVar.touched  &&! prixAchatVar.valid}" />
                      <div class="invalid-feedback">
                        <span *ngIf="prixAchatVar.errors ?.['required']">
                          Entrer le prix d achat
                        </span>
                        <span *ngIf="prixAchatVar.errors ?.['prixAchat']">
                          le prix d achat n'est pas valid
                        </span>
                        <span *ngIf="prixAchatVar.errors ?.['pattern']">
                          le prix est en chiffre
                        </span>
                      </div>
                    </div>

                    <div class=" col-md-6 mb-3">
                      <label id="name" for="prixVente"> Entrer le prix de vente </label>
                      <input id="prixVente" name="prixVente" type="number" autocomplete="off" class="form-control"
                        placeholder="ex: prix de vente" [(ngModel)]="obj.prixVente" name="prixVente" required
                        prixVente #prixVenteVar="ngModel" pattern="[0-9]*"
                        [ngClass]="{'is-invalid' :prixVenteVar.touched  &&! prixVenteVar.valid}" />
                      <div class="invalid-feedback">
                        <span *ngIf="prixVenteVar.errors ?.['required']">
                          Entrer le prix de vente
                        </span>
                        <span *ngIf=" prixVenteVar.errors ?.['prixVente']">
                          la prix de Vente n'est pas valid
                        </span>
                        <span *ngIf="prixVenteVar.errors ?.['pattern']">
                          le prix est en chiffre
                        </span>
                      </div>
                    </div>

                   <div class=" col-md-6 mb-3">
                      <label id="name" for="boutiqueId">Id de la boutique</label>
                      <select [(ngModel)]="obj.boutiqueId" class="form-select"  ariia-label="Default select example" name="boutiqueId"  required maxlength="2" #boutiqueIdVar="ngModel"
                        [ngClass]="{'is-invalid' :boutiqueIdVar.touched  &&! boutiqueIdVar.valid}">
                        <option value=""> -- Id de la boutique -- </option>
                        <option *ngFor="let item of boutiqueId" [value]="item">{{item.boutiqueId}}</option>
                      </select>
                      <div class="invalid-feedback">
                        <span *ngIf="boutiqueIdVar.errors ?.['required']">
                          Entrer votre boutiqueId
                        </span>
                        <span *ngIf=" boutiqueIdVar.errors ?.['maxlength'] ">
                          Entrer au plus 2 carracteres
                        </span>
                      </div>
                    </div>


                    <div class=" col-md-6 mb-3">
                      <label id="name" for="email">Categorie Id</label>
                      <select [(ngModel)]="obj.categorieArticleId" class="form-select" ariia-label="Default select example" name="categorieArticleId" required
                        maxlength="2" #categorieArticleIdVar="ngModel" [ngClass]="{'is-invalid' :categorieArticleIdVar.touched  &&! categorieArticleIdVar.valid}">
                        <option value=""> -- Id de la categorie article -- </option>
                        <option *ngFor="let item of boutiqueId" [value]="item">{{item.categorieArticleId}}</option>
                      </select>
                      <div class="invalid-feedback">
                        <span *ngIf="categorieArticleIdVar.errors ?.['required']">
                          Entrer l indentifiant du libelle
                        </span>
                        <span *ngIf=" categorieArticleIdVar.errors ?.['prixAchat']">
                          l indentifiant du libelle n est valid
                        </span>
                      </div>
                    </div>


                  </div>
                  <hr>
                  <div class="containe d-flex justify-content-end">
                    <div class="row">
                      <div class="col">
                        <div class="position">
                          <span class="p-4"><button type="reset" class="btn btn-info">Effacer</button> </span>
                          <span class=""> <button type="submit" class="btn btn-outline-info" [disabled]="!registerForm.valid"
                              (click)="Add()">Sauvegarder</button> </span>
                        </div>
                      </div>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="container text-center">
    <div class="row">
      <div class="col p-5">
        <h5> Les informations</h5>
      </div>
    </div>
  </div>


<div class="container">
    <div class="row">
        <div class="col">
          <table class="table table-striped table-responsive">
            <thead>
              <tr>
                <th class="text-center border border-5">Code</th>
                <th class="text-center border border-5">Libelle</th>
                <th class="text-center border border-5">Prix Achat</th>
                <th class="text-center border border-5"> Prix de vente </th>
                <th class="text-center border border-5">BoutiqueId </th>
                <th class="text-center border border-5">CategorieArticleId</th>
                <th class="text-center border border-5"> Actions</th>
              </tr>
            </thead>
            <tbody *ngFor="let item of tabArt; let indice = index">
              <tr>
                <td class="border border-2 text-center"> {{item.code}} </td>
                <td class="border border-2 text-center"> {{item.libelle}} </td>
                <td class="border border-2 text-center"> {{item.prixAchat}} </td>
                <td class="border border-2 text-center"> {{item.prixVente}} </td>
                <td class="border border-2 text-center"> {{item.boutiqueId}} </td>
                <td class="border border-2 text-center">{{item.categorieArticleId}}</td>
                <td class="border border-2 text-center">
                  <span class="p-4"><button type="button" class="btn btn-warning" (click)="Upd(item)"> Modifier</button> </span>
                  <span> <button type="button" class="btn btn-danger" (click)="Del(item.id)">Supprimer</button> </span>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
    </div>
</div>
